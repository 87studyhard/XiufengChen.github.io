<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Reactjs学习笔记（一） - Xiufeng</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Cheatsheet for props, state, eventsProperties: Passing input data from Root/Owner component to Child. Owner defines a property=value which is used within rendered component. The “Owner-ownee” relatio">
<meta property="og:type" content="article">
<meta property="og:title" content="Reactjs学习笔记（一）">
<meta property="og:url" content="http://xiufengchen.github.io/2016/06/14/Learning-Reactjs-1/index.html">
<meta property="og:site_name" content="Xiufeng">
<meta property="og:description" content="Cheatsheet for props, state, eventsProperties: Passing input data from Root/Owner component to Child. Owner defines a property=value which is used within rendered component. The “Owner-ownee” relatio">
<meta property="og:image" content="http://i.imgur.com/lngVeKW.png?3">
<meta property="og:updated_time" content="2016-09-06T17:40:01.845Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Reactjs学习笔记（一）">
<meta name="twitter:description" content="Cheatsheet for props, state, eventsProperties: Passing input data from Root/Owner component to Child. Owner defines a property=value which is used within rendered component. The “Owner-ownee” relatio">
<meta name="twitter:image" content="http://i.imgur.com/lngVeKW.png?3">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="/webfonts/ptserif/main.css" rel='stylesheet' type='text/css'>
  <link href="/webfonts/source-code-pro/main.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-65933410-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


</head>

<body>
  <div id="container">
    <header id="header">
  <div id="header-outer" class="outer">
    <div id="header-inner" class="inner">
      <a id="main-nav-toggle" class="nav-icon" href="javascript:;"></a>
      <a id="logo" class="logo logo-text" href="/">Xiufeng</a>
      <nav id="main-nav">
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/categories">Categories</a>
        
          <a class="main-nav-link" href="/tags">Tags</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
          <a class="main-nav-link" href="/atom.xml">Rss</a>
        
      </nav>
      <nav id="sub-nav">
        <div id="search-form-wrap">
          <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://xiufengchen.github.io"></form>
        </div>
      </nav>
    </div>
  </div>
</header>
    <section id="main" class="outer"><article id="post-Learning-Reactjs-1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Reactjs学习笔记（一）
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/2016/06/14/Learning-Reactjs-1/" class="article-date">
  <time datetime="2016-06-14T20:19:34.000Z" itemprop="datePublished">2016-06-14</time>
</a>
      
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><img src="http://i.imgur.com/lngVeKW.png?3" alt="Reactjs"></p>
<h2 id="Cheatsheet-for-props-state-events"><a href="#Cheatsheet-for-props-state-events" class="headerlink" title="Cheatsheet for props, state, events"></a>Cheatsheet for props, state, events</h2><p><strong>Properties:</strong> Passing input data from Root/Owner component to Child. Owner defines a property=value which is used within rendered component. The “Owner-ownee” relationship can exist without property passing, as in owner simply rendering a component.<br>Owner component passing property:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;Hello greet=&#123; <span class="keyword">this</span>.state.currentGreeting &#125; message=<span class="string">"World!"</span> /&gt;</div></pre></td></tr></table></figure></p>
<p><strong>State:</strong> Defined within component whose state changes. State change updates rendered markup. Components can be stateless. Treat this.state as immutable. Do not change its value directly. Use setState method instead.<br>Default state:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">this</span>.state = &#123;</div><div class="line">	currentGreeting: props.greet</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<a id="more"></a>
<p><strong>Event Handlers:</strong> Bind, define, UI association within event generating component. Components can exist with no events defined.<br>Event function definition:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">slangGreet() &#123;</div><div class="line">	<span class="keyword">this</span>.setState(&#123;currentGreeting: <span class="string">'Yo!'</span>&#125;);</div><div class="line">&#125;</div><div class="line">hindiGreet() &#123;</div><div class="line">	<span class="keyword">this</span>.setState(&#123;currentGreeting: <span class="string">'Namaste'</span>&#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Associate event functions with UI.<br>UI association with event function:<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;a href="#" onClick=&#123; this.slangGreet &#125;&gt;</div><div class="line">	Slang greeting</div><div class="line">&lt;/a&gt; OR &lt;a href="#" onClick=&#123; this.hindiGreet &#125;&gt;</div><div class="line">	Hindi greeting</div><div class="line">&lt;/a&gt;</div></pre></td></tr></table></figure></p>
<h2 id="Define-props-in-class-component"><a href="#Define-props-in-class-component" class="headerlink" title="Define props in class component"></a>Define props in class component</h2><p>Define props value within class component:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">static</span> propTypes = &#123;</div><div class="line">	repo: PropTypes.string.isRequired</div><div class="line">&#125;</div><div class="line">CardStack.defaultProps = &#123;</div><div class="line">	messages: [</div><div class="line">		&#123;id: <span class="number">1</span>, txt: <span class="string">'React Speed UI'</span>&#125;,</div><div class="line">		&#123;id: <span class="number">2</span>, txt: <span class="string">'Single Page Apps'</span>&#125;,</div><div class="line">		&#123;id: <span class="number">3</span>, txt: <span class="string">'Responsive Design'</span>&#125;,</div><div class="line">		&#123;id: <span class="number">4</span>, txt: <span class="string">'Customizable Theme'</span>&#125;,</div><div class="line">		&#123;id: <span class="number">5</span>, txt: <span class="string">'Reusable Components'</span>&#125;,</div><div class="line">		&#123;id: <span class="number">6</span>, txt: <span class="string">'Simple Structure'</span>&#125;,</div><div class="line">		&#123;id: <span class="number">7</span>, txt: <span class="string">'Production Optimized'</span>&#125;,</div><div class="line">		&#123;id: <span class="number">8</span>, txt: <span class="string">'State Machine'</span>&#125;,</div><div class="line">		&#123;id: <span class="number">9</span>, txt: <span class="string">'Expressive Syntax'</span>&#125;,</div><div class="line">	],</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>Use props in class component:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> messages = <span class="keyword">this</span>.props.messages;</div></pre></td></tr></table></figure></p>
<p>We don’t want to change props’ value, so we use const to declare a variable.</p>
<p>The componentDidMount method is invoked once, only on the client, immediately after the initial rendering occurs. This is the ideal method to integrate other JavaScript frameworks like jQuery and make AJAX requests.</p>
<p>The componentWillUnmount method is invoked immediately before a component is unmounted from the DOM. We can perform any necessary cleanup in this method, such as cleaning up any DOM elements that were created in componentDidMount<br>method.</p>
<p>官方文档上也说的很清楚，建议我们在componentDidMount中添加ajax，因为这是DOM已经完成了初始化的渲染，在componentWillMount中获取也可以，例如上面的例子，换在componentWillMount中获取数据，完全OK的。但是不建议大家这么干，第一个是官方不推荐，另一个因为DOM还没有渲染，这个时候的一些DOM操作就会出错！<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">componentDidMount() &#123;</div><div class="line">	<span class="keyword">const</span> sourceRepo = <span class="string">`https://api.github.com/repos/<span class="subst">$&#123;this.props.repo&#125;</span>`</span>;</div><div class="line">	<span class="keyword">this</span>.serverRequest = $.get(sourceRepo, <span class="function"><span class="keyword">function</span> (<span class="params">result</span>) </span>&#123;</div><div class="line">		<span class="keyword">this</span>.setState(&#123;</div><div class="line">			full_name: result.full_name,</div><div class="line">			stargazers_count: result.stargazers_count,</div><div class="line">			open_issues: result.open_issues</div><div class="line">		&#125;);</div><div class="line">	&#125;.bind(<span class="keyword">this</span>));</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h4 id="Using-props"><a href="#Using-props" class="headerlink" title="Using props"></a>Using props</h4><p>Let’s create the <code>Comment</code> component, which will depend on data passed in from its parent. Data passed in from a parent component is available as a ‘property’ on the child component. These ‘properties’ are accessed through <code>this.props</code>. Using props, we will be able to read the data passed to the <code>Comment</code> from the <code>CommentList</code>, and render some markup:</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// tutorial4.js</span></div><div class="line"><span class="keyword">var</span> Comment = React.createClass(&#123;</div><div class="line">  render: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">"comment"</span>&gt;</span></span></div><div class="line">        <span class="tag">&lt;<span class="name">h2</span> <span class="attr">className</span>=<span class="string">"commentAuthor"</span>&gt;</span></div><div class="line">          &#123;this.props.author&#125;</div><div class="line">        <span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line">        &#123;this.props.children&#125;</div><div class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>By surrounding a JavaScript expression in braces inside JSX (as either an attribute or child), you can drop text or React components into the tree. We access named attributes passed to the component as keys on <code>this.props</code> and any nested elements as <code>this.props.children</code>.</p>
<h4 id="Component-Properties"><a href="#Component-Properties" class="headerlink" title="Component Properties"></a>Component Properties</h4><p>Now that we have defined the <code>Comment</code> component, we will want to pass it the author name and comment text. This allows us to reuse the same code for each unique comment. Now let’s add some comments within our <code>CommentList</code>:</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// tutorial5.js</span></div><div class="line"><span class="keyword">var</span> CommentList = React.createClass(&#123;</div><div class="line">  render: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">"commentList"</span>&gt;</span></span></div><div class="line">        <span class="tag">&lt;<span class="name">Comment</span> <span class="attr">author</span>=<span class="string">"Pete Hunt"</span>&gt;</span>This is one comment<span class="tag">&lt;/<span class="name">Comment</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">Comment</span> <span class="attr">author</span>=<span class="string">"Jordan Walke"</span>&gt;</span>This is *another* comment<span class="tag">&lt;/<span class="name">Comment</span>&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>Note that we have passed some data from the parent <code>CommentList</code> component to the child<code>Comment</code> components. For example, we passed <em>Pete Hunt</em> (via an attribute) and <em>This is one comment</em> (via an XML-like child node) to the first <code>Comment</code>. As noted above, the <code>Comment</code>component will access these ‘properties’ through <code>this.props.author</code>, and<code>this.props.children</code>.</p>

      
    </div>
    
    
      <footer class="article-footer">
        
      </footer>
    
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2016/06/15/How-to-use-this-in-JavaScript/" id="article-nav-newer" class="article-nav-link-wrap">
      <div class="article-nav-title"><span>&lt;</span>&nbsp;
        
          How to use this in JavaScript
        
      </div>
    </a>
  
  
    <a href="/2016/05/05/Learning-Angularjs-4/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">Angularjs学习笔记（四）&nbsp;<span>&gt;</span></div>
    </a>
  
</nav>

  
</article>




<div class="share_addthis">
  <div class="sharing addthis_toolbox share">
    <a class="addthis_button_facebook_like"></a>
    <a class="addthis_button_tweet"></a>
    <a class="addthis_button_google_plusone" g:plusone:size="medium"></a>
    <a class="addthis_counter addthis_pill_style"></a>
  </div>
  <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-560c64c35486b3d4" async="async"></script>
</div>




<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>


</section>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 Xiufeng Chen&nbsp;
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>, theme by <a href="http://github.com/ppoffice">PPOffice</a>
    </div>
  </div>
</footer>
    
<script>
  var disqus_shortname = 'xfchen0102';
  
  var disqus_url = 'http://xiufengchen.github.io/2016/06/14/Learning-Reactjs-1/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="/js/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>
  </div>
</body>
</html>