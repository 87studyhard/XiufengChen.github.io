<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Angularjs 学习笔记（一） · Xiufeng</title><meta name="description" content="Angularjs 学习笔记（一） - Xiufeng Chen"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600" type="text/css"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="http://weibo.com/sonnieme" target="_blank" class="nav-list-link">WEIBO</a></li><li class="nav-list-item"><a href="https://github.com/XiufengChen" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">Angularjs 学习笔记（一）</h1><div class="post-info">Mar 30, 2016</div><div class="post-content"><h3 id="Controllers"><a href="#Controllers" class="headerlink" title="Controllers"></a>Controllers</h3><ol>
<li>We create an Angular Module, myApp, for our application. Then we add the controller’s constructor function to the module using the .controller() method. <strong>This keeps the controller’s constructor function out of the global scope.</strong><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line"></div><div class="line">myApp.controller(<span class="string">'GreetingController'</span>, [<span class="string">'$scope'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">$scope</span>) </span>&#123;</div><div class="line">  $scope.greeting = <span class="string">'Hola!'</span>;</div><div class="line">&#125;]);</div></pre></td></tr></table></figure>
</li>
</ol>
<a id="more"></a>
<h3 id="Services"><a href="#Services" class="headerlink" title="Services"></a>Services</h3><ol>
<li>Singletons – Each component dependent on a service gets a reference to the single instance generated by the service factory.</li>
<li>The service factory function generates the single object or function that represents the service to the rest of the application. 因此，一个 服务可能是一个对象，或者一个函数，依据factory function的返回值。</li>
<li>Note that you are not registering a service instance, but rather a factory function that will create this instance when called.</li>
<li><p>There are two ways to register service. One is using Module factory API:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> myModule = angular.module(<span class="string">'myModule'</span>, []);</div><div class="line">myModule.factory(<span class="string">'serviceId'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> shinyNewServiceInstance;</div><div class="line">  <span class="comment">// factory function body that constructs shinyNewServiceInstance</span></div><div class="line">  <span class="keyword">return</span> shinyNewServiceInstance;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</li>
<li><p>The other is registering services via the $provide service inside of a module’s config function:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">angular.module(<span class="string">'myModule'</span>, []).config([<span class="string">'$provide'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">$provide</span>) </span>&#123;</div><div class="line">  $provide.factory(<span class="string">'serviceId'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">	<span class="keyword">var</span> shinyNewServiceInstance;</div><div class="line">	<span class="comment">// factory function body that constructs shinyNewServiceInstance</span></div><div class="line">	<span class="keyword">return</span> shinyNewServiceInstance;</div><div class="line">  &#125;);</div><div class="line">&#125;]);</div></pre></td></tr></table></figure>
</li>
<li><p>Here is the explanation of how the Hello world example achieves the data-binding effect when the user enters text into the text field.</p>
<pre><code>During the compilation phase:
the ng-model and input directive set up a keydown listener on the input control.
the interpolation sets up a $watch to be notified of name changes.
During the runtime phase:
Pressing an &apos;X&apos; key causes the browser to emit a keydown event on the input control.
The input directive captures the change to the input&apos;s value and calls $apply(&quot;name = &apos;X&apos;;&quot;) to update the application model inside the Angular execution context.
Angular applies the name = &apos;X&apos;; to the model.
The $digest loop begins
The $watch list detects a change on the name property and notifies the interpolation, which in turn updates the DOM.
Angular exits the execution context, which in turn exits the keydown event and with it the JavaScript execution context.
The browser re-renders the view with the updated text.
</code></pre></li>
</ol>
<h3 id="DI"><a href="#DI" class="headerlink" title="DI"></a>DI</h3><ol>
<li>The run method accepts a function, which can be injected with “service”, “value” and “constant” components as dependencies. Note that you cannot inject “providers” into run blocks.</li>
<li>The config method accepts a function, which can be injected with “provider” and “constant” components as dependencies. Note that you cannot inject “service” or “value” components into configuration.</li>
<li>Unlike services, controllers can have many instances of the same type of controller in an application.</li>
</ol>
<h3 id="Angular-Expressions"><a href="#Angular-Expressions" class="headerlink" title="Angular Expressions"></a>Angular Expressions</h3><ol>
<li>Angular expressions are JavaScript-like code snippets that are mainly placed in interpolation bindings such as <figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">title</span>=<span class="string">"&#123;&#123; attrBinding &#125;&#125;"</span>&gt;</span>&#123;&#123; textBinding &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
</ol>
<p>, but also used directly in directive attributes such as<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ng-click="functionExpression()"</div></pre></td></tr></table></figure></p>
<ol>
<li>Apart from the ternary operator (a ? b : c), you cannot write a control flow statement in an expression. </li>
</ol>
<h3 id="Filters"><a href="#Filters" class="headerlink" title="Filters"></a>Filters</h3><ol>
<li>Using a filter in a view template will reevaluate the filter on every digest, which can be costly if the array is big.The example below therefore calls the filter directly in the controller.</li>
<li>This factory function should return a new filter function which takes the input value as the first argument.</li>
</ol>
</div></article></div></section><footer><div class="paginator"><a href="/2016/04/28/Learning-Angularjs-2/" class="prev">上一篇</a><a href="/2016/03/02/Array-Questions/" class="next">下一篇</a></div><div class="copyright"><p>© 2015 - 2016 <a href="http://yoursite.com">Xiufeng Chen</a>, unless otherwise noted.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script></body></html>