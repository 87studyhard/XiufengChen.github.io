<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Xiufeng</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Xiufeng">
<meta property="og:url" content="http://xiufengchen.github.io/index.html">
<meta property="og:site_name" content="Xiufeng">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Xiufeng">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="/webfonts/ptserif/main.css" rel='stylesheet' type='text/css'>
  <link href="/webfonts/source-code-pro/main.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-65933410-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


</head>

<body>
  <div id="container">
    <header id="header">
  <div id="header-outer" class="outer">
    <div id="header-inner" class="inner">
      <a id="main-nav-toggle" class="nav-icon" href="javascript:;"></a>
      <a id="logo" class="logo logo-text" href="/">Xiufeng</a>
      <nav id="main-nav">
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/categories">Categories</a>
        
          <a class="main-nav-link" href="/tags">Tags</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
          <a class="main-nav-link" href="/atom.xml">Rss</a>
        
      </nav>
      <nav id="sub-nav">
        <div id="search-form-wrap">
          <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://xiufengchen.github.io"></form>
        </div>
      </nav>
    </div>
  </div>
</header>
    <section id="main" class="outer">
      <article id="post-Continuous-Pass-Style" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/16/Continuous-Pass-Style/">Continuous Pass Style</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/2016/11/16/Continuous-Pass-Style/" class="article-date">
  <time datetime="2016-11-16T19:25:26.000Z" itemprop="datePublished">2016-11-16</time>
</a>
      
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="Naive-Recursive"><a href="#Naive-Recursive" class="headerlink" title="Naive Recursive"></a>Naive Recursive</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">factorial</span>(<span class="params">remaining</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span>( remaining === <span class="number">0</span> ) <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">  <span class="keyword">return</span> remaining * factorial(remaining<span class="number">-1</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>函数调用会在内存形成一个call frame，由stack保存call frame，上面的递归函数执行一次保存一次调用的call frame，因此如果求一个大数的阶乘，很可能造成stack overflow error。</p>
<h3 id="Tail-Call-Optimized-Recursive"><a href="#Tail-Call-Optimized-Recursive" class="headerlink" title="Tail Call Optimized Recursive"></a>Tail Call Optimized Recursive</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">factorial</span>(<span class="params">remaining, accumulator</span>)</span>&#123;</div><div class="line">  <span class="keyword">if</span> (remaining === <span class="number">0</span>) <span class="keyword">return</span> accumulator;</div><div class="line">  <span class="keyword">return</span> factorial(remaining - <span class="number">1</span>, remaining * accumulator); <span class="comment">// &lt;-- tail call</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>尾调用优化由于调用函数是函数的最后一步操作，所以不需要保留外层函数的调用记录，因此可以被优化。</p>
<p>尾调用优化真正在JavaScript上支持是在 ES6 以后。</p>
<h3 id="Continuous-Pass-Style"><a href="#Continuous-Pass-Style" class="headerlink" title="Continuous Pass Style"></a>Continuous Pass Style</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">factorial</span>(<span class="params">n, accumulate</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (n === <span class="number">0</span>) &#123;</div><div class="line">    accumulate(<span class="number">1</span>);</div><div class="line">    <span class="keyword">return</span>;</div><div class="line">  &#125;</div><div class="line">  factorial(n<span class="number">-1</span>, <span class="function"><span class="keyword">function</span>(<span class="params">k</span>) </span>&#123;accumulate(n * k);&#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>所以在ES6支持尾调用优化之前，一种优化方法就是CPS。CPS有两个要点：</p>
<ul>
<li>没有return语句</li>
<li>使用callback函数来实现</li>
</ul>
<h3 id="All-Popular-AJAX-libraries-use-CPS"><a href="#All-Popular-AJAX-libraries-use-CPS" class="headerlink" title="All Popular AJAX libraries use CPS"></a>All Popular AJAX libraries use CPS</h3><p>写一个fetch函数产生一个XMLHTTPRequest，实现onSuccess和onFail事件</p>
<ul>
<li>实例化XMLHttpRequest对象request</li>
</ul>
<ul>
<li>定义request收到response后应该怎样做，也就是告诉request哪个函数会handle处理response的事件，即给request.onreadystatechange传递一个函数，处理response。<ul>
<li>handler首先检查request的state，如果request.readystate是4，说明response已经接收到了</li>
<li>其次检查返回的response的status，如果request.status是200，说明完成了一个成功的AJAX call</li>
<li>下面可以随意使用返回的数据了，一般使用request.responseText或者request.responseXML</li>
</ul>
</li>
<li>open一个url</li>
<li>send request</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> noop = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">fetch</span>(<span class="params">url, onSuccess, onFail</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> request = <span class="keyword">new</span> XMLHttpRequest(),</div><div class="line">      successHandler = onSuccess || noop,</div><div class="line">      errorHandler = onFail || noop,</div><div class="line">      kComplete = <span class="number">4</span>,</div><div class="line">      kSuccess = <span class="number">200</span>,</div><div class="line">      kVerb = <span class="string">'GET'</span>;</div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">handleReadyStateChange</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> isSuccessful = request.readyState === kComplete &amp;&amp; request.status === kSuccess;</div><div class="line">    <span class="keyword">if</span> (isSuccessful) &#123;</div><div class="line">      successHandler(request.responseText, url, request);</div><div class="line">      <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line">    errorHandler(url, request);</div><div class="line">  &#125;</div><div class="line">  </div><div class="line">  request.onreadystatechange = handleReadyStateChange;</div><div class="line">  request.open(kVerb, url, <span class="literal">true</span>);</div><div class="line">  request.send(<span class="literal">null</span>);</div><div class="line">  <span class="comment">//request.open('POST', url);</span></div><div class="line">  <span class="comment">//request.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');</span></div><div class="line">  <span class="comment">//request.send('userName=' + encodeURIComponent(userName));</span></div><div class="line">  <span class="keyword">return</span> request;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>一般情况下调用url返回的是JSON string，</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&#123;<span class="string">"userData"</span>:<span class="string">"Jane"</span>,<span class="string">"computedString"</span>:<span class="string">"Hi, Jane!"</span>&#125;</div></pre></td></tr></table></figure>
<p>想要使用它必须先解析（parse）成 JavaScript object</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> response = <span class="built_in">JSON</span>.parse(httpRequest.responseText);</div></pre></td></tr></table></figure>

      
    </div>
    
    
      <footer class="article-footer">
        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Front-End/">Front End</a></li></ul>

      </footer>
    
  </div>
  
</article>








    
      <article id="post-How-to-use-closure-in-jQuery-plugin" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/15/How-to-use-closure-in-jQuery-plugin/">How to use closure in jQuery plugin</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/2016/11/15/How-to-use-closure-in-jQuery-plugin/" class="article-date">
  <time datetime="2016-11-15T23:34:03.000Z" itemprop="datePublished">2016-11-15</time>
</a>
      
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="创建jQuery插件的前期准备"><a href="#创建jQuery插件的前期准备" class="headerlink" title="创建jQuery插件的前期准备"></a>创建jQuery插件的前期准备</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">jQuery.fn = jQuery.prototype = &#123;</div><div class="line">　 init: <span class="function"><span class="keyword">function</span>(<span class="params"> selector, context </span>) </span>&#123;</div><div class="line">     <span class="comment">//....　</span></div><div class="line">   &#125;;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">jQuery.fn = jQuery.prototype  也即 $.fn = jQuery.prototype</div></pre></td></tr></table></figure>
<p>jQuery便是一个封装得非常好的类，比如我们用 语句　$(“#btn1”) 会生成一个 jQuery类的实例。</p>
<p>jQuery.fn.extend(object); 对jQuery.prototype进得扩展，就是为jQuery类添加“成员函数”。</p>
<h3 id="each-和-selector-each-的区别："><a href="#each-和-selector-each-的区别：" class="headerlink" title="\$.each()和\$(selector).each()的区别："></a>\$.each()和\$(selector).each()的区别：</h3><p>\$.each()函数和\$(selector).each()是不一样的，\$(selector).each()是专门用来遍历一个jQuery对象。<code>$.each()</code>函数可用于迭代任何集合，无论是“名/值”对象（JavaScript对象）或数组。在迭代数组的情况下，回调函数每次传递一个数组索引和相应的数组值作为参数。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$.each([<span class="number">52</span>, <span class="number">97</span>], <span class="function"><span class="keyword">function</span>(<span class="params">index, value</span>) </span>&#123;</div><div class="line">  alert(index + <span class="string">': '</span> + value);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>\$(selector).each() 方法用来让DOM循环结构更简单更不易出错。它会迭代jQuery对象中的每一个DOM元素。每次回调函数执行时，会传递当前循环次数作为参数(从0开始计数)。更重要的是，回调函数是在当前DOM元素为上下文的语境中触发的。因此关键字 <code>this</code> 总是指向这个元素(<strong>DOM元素</strong>)。</p>
<p>假设页面上有这样一个简单的无序列表。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;ul&gt;</div><div class="line">    &lt;li&gt;foo&lt;/li&gt;</div><div class="line">    &lt;li&gt;bar&lt;/li&gt;</div><div class="line">&lt;/ul&gt;</div></pre></td></tr></table></figure>
<p>可以选中并迭代这些列表：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$( "li" ).each(function( index ) &#123;</div><div class="line">  console.log( index + ": "" + $(this).text() );</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>this指向的是DOM元素，因此想要调用text()函数必须将this作为jQuery选择器的参数</p>
<h3 id="命名空间"><a href="#命名空间" class="headerlink" title="命名空间"></a>命名空间</h3><p>单个插件<strong>永远不要</strong>在 jQuery.fn 对象中声明一个以上的名称空间，也就是不要在 \$.fn 上声明多个函数，因为它搞乱了$.fn 名称空间。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"> $ </span>)</span>&#123;</div><div class="line">  $.fn.myPlugin1 = <span class="function"><span class="keyword">function</span>(<span class="params"> </span>) </span>&#123;</div><div class="line">  &#125;;</div><div class="line">  $.fn.myPlugin2 = <span class="function"><span class="keyword">function</span>(<span class="params"> content </span>) </span>&#123;   </div><div class="line">  &#125;;</div><div class="line">&#125;)( jQuery );</div></pre></td></tr></table></figure>
<p>应该把所有插件方法收集到一个对象定义当中，并通过传递方法名称字符串调用。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*********************方法一********************/</span></div><div class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"> $ </span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> methods = &#123;</div><div class="line">    init : <span class="function"><span class="keyword">function</span>(<span class="params"> options </span>) </span>&#123; </div><div class="line">    &#125;,</div><div class="line">    function1 : <span class="function"><span class="keyword">function</span>(<span class="params"> </span>) </span>&#123;</div><div class="line">    &#125;</div><div class="line">  &#125;;</div><div class="line">  $.fn.myplugin = <span class="function"><span class="keyword">function</span>(<span class="params"> method </span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> ( methods[method] ) &#123;</div><div class="line">      <span class="keyword">return</span> methods[ method ].apply( <span class="keyword">this</span>, <span class="built_in">Array</span>.prototype.slice.call( <span class="built_in">arguments</span>, <span class="number">1</span> ));</div><div class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> ( <span class="keyword">typeof</span> method === <span class="string">'object'</span> || ! method ) &#123;</div><div class="line">      <span class="keyword">return</span> methods.init.apply( <span class="keyword">this</span>, <span class="built_in">arguments</span> );</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">      $.error( <span class="string">'Method '</span> +  method + <span class="string">' does not exist on jQuery.tooltip'</span> );</div><div class="line">    &#125;    </div><div class="line">  &#125;;</div><div class="line">&#125;)( jQuery );</div><div class="line"></div><div class="line">$(<span class="string">'div'</span>).myplugin(); <span class="comment">//call init </span></div><div class="line">$(<span class="string">'div'</span>).myplugin(&#123;  <span class="comment">//call init with options</span></div><div class="line">  foo : <span class="string">'bar'</span></div><div class="line">&#125;);</div><div class="line">$(<span class="string">'div'</span>).myplugin(<span class="string">'function1'</span>); <span class="comment">//call function1</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/***********************方法二**********************/</span></div><div class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">$</span>)</span>&#123;</div><div class="line">    $.fn.myplugin = <span class="function"><span class="keyword">function</span>(<span class="params">options</span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> settings = $.extend(&#123;</div><div class="line">            param:<span class="string">'value'</span>,</div><div class="line">        &#125;, options);</div><div class="line">        <span class="keyword">var</span> $jquery=<span class="keyword">this</span>;</div><div class="line">        <span class="keyword">var</span> output=&#123;</div><div class="line">            <span class="string">'function1'</span>:<span class="function"><span class="keyword">function</span>(<span class="params">param</span>)</span>&#123;</div><div class="line">                <span class="keyword">return</span> output;</div><div class="line">            &#125;,</div><div class="line">          	<span class="string">'function2'</span>:<span class="function"><span class="keyword">function</span>(<span class="params">param</span>)</span>&#123;</div><div class="line">                $jquery.each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  					<span class="keyword">var</span> $<span class="keyword">this</span> = $(<span class="keyword">this</span>);</div><div class="line">				&#125;);</div><div class="line">                <span class="keyword">return</span> output;</div><div class="line">            &#125;,</div><div class="line">            <span class="string">'init'</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">                output.function1(<span class="string">"value"</span>);</div><div class="line">            &#125;</div><div class="line">        &#125;;</div><div class="line">        output.init();</div><div class="line">        <span class="keyword">return</span> output;</div><div class="line">    &#125;;</div><div class="line"><span class="comment">//Pass the jQuery class so we can use it inside our plugin 'class'</span></div><div class="line">&#125;)(jQuery);</div><div class="line"></div><div class="line"><span class="keyword">var</span> plugin = $(<span class="string">'div'</span>).myplugin();  <span class="comment">//call init</span></div><div class="line">plugin.function1();  <span class="comment">//call function1</span></div></pre></td></tr></table></figure>
<p>开头也可以写成</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$.fn.extend(&#123;</div><div class="line">  myplugin: <span class="function"><span class="keyword">function</span>(<span class="params">options</span>)</span>&#123;&#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h3 id="创建一个jQuery插件"><a href="#创建一个jQuery插件" class="headerlink" title="创建一个jQuery插件"></a>创建一个jQuery插件</h3><p><a href="http://stackoverflow.com/questions/18185956/calling-a-function-inside-a-jquery-plugin-from-outside" target="_blank" rel="external">Calling a function inside a jQuery plugin from outside</a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//We start with a function and pass a jQuery class to it as a </span></div><div class="line"><span class="comment">//parameter $ to avoid the conflict with other javascript </span></div><div class="line"><span class="comment">//plugins that uses '$ as a name</span></div><div class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">$</span>)</span>&#123;</div><div class="line">    <span class="comment">//We now append our function to the jQuery namespace, </span></div><div class="line">    <span class="comment">//with an option parameter</span></div><div class="line">    $.fn.myplugin = <span class="function"><span class="keyword">function</span>(<span class="params">options</span>) </span>&#123;</div><div class="line">        <span class="comment">//settings parameter will our private parameter to our function</span></div><div class="line">        <span class="comment">//'myplugin', using jQuery.extend append 'options' to our settings</span></div><div class="line">        <span class="keyword">var</span> settings = $.extend(&#123;</div><div class="line">            param:<span class="string">'value'</span>,</div><div class="line">        &#125;, options);</div><div class="line">        <span class="comment">//Define a reference to our function myplugin which it's </span></div><div class="line">        <span class="comment">//part of jQuery namespace functions, so we can use later</span></div><div class="line">        <span class="comment">//within inside functions</span></div><div class="line">        <span class="keyword">var</span> $jquery=<span class="keyword">this</span>;</div><div class="line"></div><div class="line">        <span class="comment">//Define an output object that will work as a reference</span></div><div class="line">        <span class="comment">//for our function</span></div><div class="line">        <span class="keyword">var</span> output=&#123;</div><div class="line">            <span class="comment">//Setup our plugin functions as an object elements</span></div><div class="line">            <span class="string">'function1'</span>:<span class="function"><span class="keyword">function</span>(<span class="params">param</span>)</span>&#123;</div><div class="line">                <span class="comment">//Call jQuery reference that goes through jQuery selector</span></div><div class="line">                $jquery.each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">                    <span class="comment">//Define a reference of each element of jQuery </span></div><div class="line">                    <span class="comment">//selector elements</span></div><div class="line">                    <span class="keyword">var</span> _this=<span class="keyword">this</span>;</div><div class="line">                &#125;);</div><div class="line">                <span class="comment">//This steps is required if you want to call nested</span></div><div class="line">                <span class="comment">//functions like jQuery.</span></div><div class="line">                <span class="comment">//Each function needs to return output, except init</span></div><div class="line">                <span class="keyword">return</span> output;</div><div class="line">            &#125;,</div><div class="line">            <span class="comment">//If we want to make our plugin to do a specific operations</span></div><div class="line">            <span class="comment">//when called, we define a function for that</span></div><div class="line">            <span class="string">'init'</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">                $jquery.each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">                    <span class="keyword">var</span> _this=<span class="keyword">this</span>;</div><div class="line">                    <span class="comment">//Note that _this param linked to each jQuery </span></div><div class="line">                    <span class="comment">//functions not element, thus wont behave like </span></div><div class="line">                    <span class="comment">//jQuery function.</span></div><div class="line">                    <span class="comment">//And for that we set a parameter to reference the</span></div><div class="line">                    <span class="comment">//jQuery element</span></div><div class="line">                    _this.$<span class="keyword">this</span>=$(<span class="keyword">this</span>);</div><div class="line"></div><div class="line">                    <span class="comment">//We can define a private function for 'init'</span></div><div class="line">                    <span class="comment">//function</span></div><div class="line">                    <span class="keyword">var</span> privatefun=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;</div><div class="line">                    privatefun();</div><div class="line"></div><div class="line">                    <span class="comment">//We can now do jQuery stuffs on each element</span></div><div class="line">                    _this.$<span class="keyword">this</span>.on(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">                        <span class="comment">//jQuery related stuffs</span></div><div class="line">                    &#125;);</div><div class="line">                &#125;);</div><div class="line">                <span class="comment">//We can call whatever function we want or parameter</span></div><div class="line">                <span class="comment">//that belongs to our plugin</span></div><div class="line">                output.function1(<span class="string">"value"</span>);</div><div class="line">            &#125;</div><div class="line">        &#125;;</div><div class="line">        <span class="comment">//Our output is ready, if we want our plugin to execute a</span></div><div class="line">        <span class="comment">//function whenever it called we do it now</span></div><div class="line">        output.init();</div><div class="line"></div><div class="line">        <span class="comment">//And the final critical step, return our object output to</span></div><div class="line">        <span class="comment">//the plugin</span></div><div class="line">        <span class="keyword">return</span> output;</div><div class="line">    &#125;;</div><div class="line"><span class="comment">//Pass the jQuery class so we can use it inside our plugin 'class'</span></div><div class="line">&#125;)(jQuery);</div></pre></td></tr></table></figure>
<p>之后使用它：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&lt;div class="plugintest"&gt;</div><div class="line">    &lt;span&gt;1&lt;/span&gt;</div><div class="line">    &lt;span&gt;2&lt;/span&gt;</div><div class="line">    &lt;span&gt;3&lt;/span&gt;</div><div class="line">    &lt;span&gt;4&lt;/span&gt;</div><div class="line">&lt;/div&gt;</div><div class="line"></div><div class="line">&lt;script&gt;</div><div class="line">    $(function()&#123;</div><div class="line">        var myplugin=$(".plugintest &gt; span").myplugin(&#123;</div><div class="line">            param:'somevalue'</div><div class="line">        &#125;);</div><div class="line">        myplugin.function1(1).function1(2).function1(3);</div><div class="line">    &#125;);</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<h3 id="jQuery库的扩展"><a href="#jQuery库的扩展" class="headerlink" title="jQuery库的扩展"></a><a href="http://www.ghugo.com/2-jquery-comparison-of-the-extended/" target="_blank" rel="external">jQuery库的扩展</a></h3><h4 id="通过jQuery-extend扩展"><a href="#通过jQuery-extend扩展" class="headerlink" title="通过jQuery.extend扩展"></a>通过jQuery.extend扩展</h4><p>jQuery.extend中的jQuery类型是function。如果把jQuery当成一个类，jQuery.extend相当于为该类添加了静态方法extend，jQuery又被赋值给\$，因此我们更习惯$.extend(…)。</p>
<p>在扩展jQuery的时候，extend只传一个参数，其中的this指的是 function jQuery。也就是说给function jQuery添加了许多静态方法，这些方法都可以直接通过jQuery.xx(或\$.xx)方式来调用，而不是先执行(调用)jQuery方法再去调用xx，如\$(“#id”).xx。</p>
<p>因此，jquery中的isFunction, isArray, trim等都是静态方法，只能通过\$.isFunction, \$.isArray, \$.trim来调用。而不能通过\$(“…”).isFuction, \$(“…”).isArray, \$(“…”).trim调用。</p>
<h4 id="通过jQuery-fn-extend扩展"><a href="#通过jQuery-fn-extend扩展" class="headerlink" title="通过jQuery.fn.extend扩展"></a>通过jQuery.fn.extend扩展</h4><p>jQuery.fn等于jQuery.prototype，也就是说给function jQuery的原型(prototype)上挂了个extend方法。</p>
<p>通过调用jQuery.fn.extend(object)来扩展时，其中的this指的是 jQuery.prototype。即给jQuery.prototype 上添加了许多属性，方法。当jQuery函数执行时，如\$()或jQuery()，更多时候是\$()。该函数会new一个jQuery对象。这时则把扩展的属性，方法都附加到new生成的jQuery对象上了。</p>
<p>a，jQuery.extend({…})是给function jQuery添加静态属性或方法<br>b，jQuery().extend({…})是给jquery对象添加属性或方法。</p>
<h3 id="jQuery-应用"><a href="#jQuery-应用" class="headerlink" title="jQuery 应用"></a>jQuery 应用</h3><p><code>$(callback)</code>只是<code>$(document).ready(callback)</code>的缩写， 两种写法的作用相同，返回值也都是包含<code>document</code>的jQuery对象。</p>
<p>这里提一下<code>$(document).ready</code>和<code>$(window).load</code>的区别：</p>
<ul>
<li>前者会在HTML文档载入后，并且DOM就绪后调用。</li>
<li>后者会在HTML文档载入后，DOM就绪后，页面渲染结束（iframe、img加载完成）后调用。</li>
</ul>

      
    </div>
    
    
      <footer class="article-footer">
        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Front-End/">Front End</a></li></ul>

      </footer>
    
  </div>
  
</article>








    
      <article id="post-Async-Actions" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/15/Async-Actions/">Async Actions</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/2016/08/15/Async-Actions/" class="article-date">
  <time datetime="2016-08-16T01:55:13.000Z" itemprop="datePublished">2016-08-15</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/Front-End/">Front End</a>
  </div>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><img src="http://i.imgur.com/hCkhsjq.png?2" alt="Async Actions"></p>
<p>This article is based on <a href="http://redux.js.org/docs/advanced/AsyncActions.html">Async Actions tutorial</a> and a <a href="http://stackoverflow.com/questions/35411423/how-to-dispatch-a-redux-action-with-a-timeout/35415559#35415559">solution from stackoverflow</a> about how to dispatch a Redux action with a timeout or any other asynchronous request.</p>
<h2 id="Why-Using-Thunk"><a href="#Why-Using-Thunk" class="headerlink" title="Why Using Thunk?"></a>Why Using Thunk?</h2><p>本文的第一部分我想先借用Redux作者Dan Abramov在stackoverflow上的回答来阐述一下使用thunk的原理。</p>
<p><a href="http://stackoverflow.com/questions/35411423/how-to-dispatch-a-redux-action-with-a-timeout">How to dispatch a Redux action with a timeout?</a></p>
<h3 id="dispatch-action"><a href="#dispatch-action" class="headerlink" title="dispatch(action)"></a>dispatch(action)</h3><p>首先来看一下dipatch(action)的API。dispatch 一个action是触发state改变的唯一方法。store的reducer方法将会同时调用getState()的结果和action。reducer方法的返回值就是新的state，一旦状态改变就会通知listener。</p>
<h4 id="Arguments"><a href="#Arguments" class="headerlink" title="Arguments"></a>Arguments</h4><p>action是向store添加数据的唯一方法，无论该数据是通过UI事件，调用外部回调函数，还是通过WebSockets 得到的。</p>
<h4 id="Returns"><a href="#Returns" class="headerlink" title="Returns"></a>Returns</h4><p>被调度了的action，一般情况下该返回值是Object。</p>
<h3 id="Writing-Async-Code-Inline"><a href="#Writing-Async-Code-Inline" class="headerlink" title="Writing Async Code Inline"></a>Writing Async Code Inline</h3><p>这是使用redux实现setTimeout最简单的方法。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">store.dispatch(&#123; type: <span class="string">'SHOW_NOTIFICATION'</span>, text: <span class="string">'You logged in.'</span> &#125;)</div><div class="line">setTimeout(() =&gt; &#123;</div><div class="line">  store.dispatch(&#123; type: <span class="string">'HIDE_NOTIFICATION'</span> &#125;)</div><div class="line">&#125;, <span class="number">5000</span>)</div></pre></td></tr></table></figure>
        
          <p class="article-more-link">
            <a href="/2016/08/15/Async-Actions/#more">Read More</a>
          </p>
        
      
    </div>
    
    
      <footer class="article-footer">
        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Reactjs/">Reactjs</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Redux/">Redux</a></li></ul>

      </footer>
    
  </div>
  
</article>








    
      <article id="post-Working-with-Google-Map-API-on-Reactjs" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/15/Working-with-Google-Map-API-on-Reactjs/">Working with Google Map API on Reactjs</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/2016/07/15/Working-with-Google-Map-API-on-Reactjs/" class="article-date">
  <time datetime="2016-07-15T16:01:38.000Z" itemprop="datePublished">2016-07-15</time>
</a>
      
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><img src="http://i.imgur.com/9ERJwNg.jpg?2" alt="Working with Google Map API on Reactjs"></p>
<p>When we develop a component using 3rd party APIs like Google, Github, we must use their API or load their javascript libraries to get instances they made. There are multiple ways to load 3rd API libraries: one is including libraries with <code>&lt;script&gt;</code>  on the original markup for the page, another is lazily-loading the libraries.</p>
<p>We can get the purpose and tutorial of Lazy Loading Asyncronous Javascript <a href="https://friendlybit.com/js/lazy-loading-asyncronous-javascript/" target="_blank" rel="external">here</a>. </p>

      
    </div>
    
    
  </div>
  
</article>








    
      <article id="post-Learning-Reactjs-2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/07/Learning-Reactjs-2/">Reactjs学习笔记（二）</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/2016/07/07/Learning-Reactjs-2/" class="article-date">
  <time datetime="2016-07-07T23:01:59.000Z" itemprop="datePublished">2016-07-07</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/Front-End/">Front End</a>
  </div>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><img src="http://i.imgur.com/5pHysd7.jpg?1" alt="Learning Reactjs 2"></p>
<p>“真正学会React是一个漫长的过程。”</p>
<h2 id="START-UP-A-REACT-PROJECT"><a href="#START-UP-A-REACT-PROJECT" class="headerlink" title="START UP A REACT PROJECT"></a>START UP A REACT PROJECT</h2><h3 id="Setting-up-package-json"><a href="#Setting-up-package-json" class="headerlink" title="Setting up package.json"></a>Setting up package.json</h3><p>Create a new one using npm init command, selecting defaults where uncertain.<br><strong>/package.json</strong><br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">	<span class="string">"name"</span>: <span class="string">"react-speed-coding-code"</span>,</div><div class="line">	<span class="string">"version"</span>: <span class="string">"1.0.0"</span>,</div><div class="line">	<span class="string">"description"</span>: <span class="string">"Companion code for React Speed Coding book"</span>,</div><div class="line">	<span class="string">"main"</span>: <span class="string">"index.js"</span>,</div><div class="line">	<span class="string">"private"</span>: <span class="literal">true</span>,</div><div class="line">	<span class="string">"scripts"</span>: &#123;</div><div class="line">		<span class="string">"test"</span>: <span class="string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span></div><div class="line">	&#125;,</div><div class="line">	<span class="string">"author"</span>: <span class="string">"Manav Sehgal"</span>,</div><div class="line">	<span class="string">"license"</span>: <span class="string">"MIT"</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
        
          <p class="article-more-link">
            <a href="/2016/07/07/Learning-Reactjs-2/#more">Read More</a>
          </p>
        
      
    </div>
    
    
      <footer class="article-footer">
        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Reactjs/">Reactjs</a></li></ul>

      </footer>
    
  </div>
  
</article>








    
      <article id="post-How-to-use-this-in-JavaScript" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/06/15/How-to-use-this-in-JavaScript/">How to use this in JavaScript</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/2016/06/15/How-to-use-this-in-JavaScript/" class="article-date">
  <time datetime="2016-06-16T00:30:59.000Z" itemprop="datePublished">2016-06-15</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/Front-End/">Front End</a>
  </div>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><img src="http://i.imgur.com/hkxjug8.jpg?2" alt="How to use this in JavaScript"></p>
<p>本文来源于<a href="https://www.ibm.com/developerworks/cn/web/1207_wangqf_jsthis/">深入浅出 JavaScript 中的 this</a><br>结合最近在学习的React框架，记录一些this使用的方法。</p>
<p>由于其运行期绑定的特性，JavaScript 中的 this 含义要丰富得多，它可以是全局对象、当前对象或者任意对象，这完全取决于函数的调用方式。JavaScript 中函数的调用有以下几种方式：作为对象方法调用，作为函数调用，作为构造函数调用，和使用 apply 或 call 调用。下面我们将按照调用方式的不同，分别讨论 this 的含义。</p>
<h3 id="1-函数作为对象方法调用时的this"><a href="#1-函数作为对象方法调用时的this" class="headerlink" title="1. 函数作为对象方法调用时的this"></a>1. 函数作为对象方法调用时的this</h3><p>在 JavaScript 中，函数也是对象，函数可以作为一个对象的属性，此时该函数被称为该对象的方法，在使用这种调用方式时，this 被自然绑定到该对象。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> point = &#123; </div><div class="line"> x : <span class="number">0</span>, </div><div class="line"> y : <span class="number">0</span>, </div><div class="line"> moveTo : <span class="function"><span class="keyword">function</span>(<span class="params">x, y</span>) </span>&#123; </div><div class="line">	 <span class="keyword">this</span>.x = <span class="keyword">this</span>.x + x; </div><div class="line">	 <span class="keyword">this</span>.y = <span class="keyword">this</span>.y + y; </div><div class="line">	 &#125; </div><div class="line"> &#125;; </div><div class="line"></div><div class="line"> point.moveTo(<span class="number">1</span>, <span class="number">1</span>)<span class="comment">//this 绑定到当前对象，即 point 对象</span></div></pre></td></tr></table></figure></p>
        
          <p class="article-more-link">
            <a href="/2016/06/15/How-to-use-this-in-JavaScript/#more">Read More</a>
          </p>
        
      
    </div>
    
    
      <footer class="article-footer">
        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li></ul>

      </footer>
    
  </div>
  
</article>








    
      <article id="post-Learning-Reactjs-1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/06/14/Learning-Reactjs-1/">Reactjs学习笔记（一）</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/2016/06/14/Learning-Reactjs-1/" class="article-date">
  <time datetime="2016-06-14T20:19:34.000Z" itemprop="datePublished">2016-06-14</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/Front-End/">Front End</a>
  </div>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><img src="http://i.imgur.com/lngVeKW.png?3" alt="Reactjs"></p>
<h2 id="Cheatsheet-for-props-state-events"><a href="#Cheatsheet-for-props-state-events" class="headerlink" title="Cheatsheet for props, state, events"></a>Cheatsheet for props, state, events</h2><p><strong>Properties:</strong> Passing input data from Root/Owner component to Child. Owner defines a property=value which is used within rendered component. The “Owner-ownee” relationship can exist without property passing, as in owner simply rendering a component.<br>Owner component passing property:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;Hello greet=&#123; <span class="keyword">this</span>.state.currentGreeting &#125; message=<span class="string">"World!"</span> /&gt;</div></pre></td></tr></table></figure></p>
<p><strong>State:</strong> Defined within component whose state changes. State change updates rendered markup. Components can be stateless. Treat this.state as immutable. Do not change its value directly. Use setState method instead.<br>Default state:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">this</span>.state = &#123;</div><div class="line">	currentGreeting: props.greet</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
        
          <p class="article-more-link">
            <a href="/2016/06/14/Learning-Reactjs-1/#more">Read More</a>
          </p>
        
      
    </div>
    
    
      <footer class="article-footer">
        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Reactjs/">Reactjs</a></li></ul>

      </footer>
    
  </div>
  
</article>








    
      <article id="post-Learning-Angularjs-4" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/05/Learning-Angularjs-4/">Angularjs学习笔记（四）</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/2016/05/05/Learning-Angularjs-4/" class="article-date">
  <time datetime="2016-05-05T21:39:41.000Z" itemprop="datePublished">2016-05-05</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/Front-End/">Front End</a>
  </div>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><img src="http://i.imgur.com/k7FcIJi.jpg?2" alt="Learning Angularjs 4"></p>
<h3 id="HTML-Compiler"><a href="#HTML-Compiler" class="headerlink" title="HTML Compiler"></a>HTML Compiler</h3><p>每一个网页元素都对应着一个对象object</p>
        
          <p class="article-more-link">
            <a href="/2016/05/05/Learning-Angularjs-4/#more">Read More</a>
          </p>
        
      
    </div>
    
    
      <footer class="article-footer">
        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Angularjs/">Angularjs</a></li></ul>

      </footer>
    
  </div>
  
</article>








    
      <article id="post-Learning-Angularjs-3" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/04/29/Learning-Angularjs-3/">Angularjs学习笔记（三）</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/2016/04/29/Learning-Angularjs-3/" class="article-date">
  <time datetime="2016-04-29T19:09:20.000Z" itemprop="datePublished">2016-04-29</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/Front-End/">Front End</a>
  </div>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><img src="http://i.imgur.com/ppOggmT.jpg?1" alt="Learning Angularjs 3"></p>
<h3 id="Angularjs中的路由"><a href="#Angularjs中的路由" class="headerlink" title="Angularjs中的路由"></a>Angularjs中的路由</h3><p>Angularjs的路由策略属于前端路由，前端路由和后端路由的区别在于，Angularjs前端路由属于锚点路由，锚点路由和后端路由的区别就像点击html中设置的锚点和点击html中设置的超链接之间的不同。首先来看怎样设置锚点：<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;a id = "top"&gt;这里是一段文字&lt;/a&gt;</div><div class="line">&lt;div&gt;</div><div class="line">	&lt;!-- 此处有若干行代码 --&gt;</div><div class="line">&lt;/div&gt;</div><div class="line">&lt;a href = "#top"&gt;点击&lt;/a&gt;</div></pre></td></tr></table></figure></p>
<p>设置锚点由两部分组成，锚点和点击链接，因为锚点标签的href属性值以“#”开头，并且锚点目标在本页中，所以点击链接不会带来页面的刷新。<br>锚点路由原理与之类似，如果当前页面处于<a href="http://localhost:9000/#/">http://localhost:9000/#/</a> ，当点击锚点时触发<strong>hashchange事件</strong>，锚点部分的值变为 <a href="http://localhost:9000/#/about">http://localhost:9000/#/about</a>, 之后根据Angularjs的routeProvider设置的路由策略去取得相应的页面部分，当前页面不刷新，并不是去后端重新取回页面。</p>
        
          <p class="article-more-link">
            <a href="/2016/04/29/Learning-Angularjs-3/#more">Read More</a>
          </p>
        
      
    </div>
    
    
      <footer class="article-footer">
        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Angularjs/">Angularjs</a></li></ul>

      </footer>
    
  </div>
  
</article>








    
      <article id="post-Learning-Angularjs-2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/04/28/Learning-Angularjs-2/">Angualrjs学习笔记（二）</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/2016/04/28/Learning-Angularjs-2/" class="article-date">
  <time datetime="2016-04-29T02:52:32.000Z" itemprop="datePublished">2016-04-28</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/Front-End/">Front End</a>
  </div>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><img src="http://i.imgur.com/c5I5FLE.jpg?2" alt="Learning Angularjs 2"></p>
<h3 id="Providers"><a href="#Providers" class="headerlink" title="Providers"></a>Providers</h3><p>在我们创建web应用的时候，我们<strong>需要组合使用多个objects</strong>，每个object需要被实例化才能使用。在Angular应用中，这些<strong>objects被<a href="https://docs.angularjs.org/api/auto/service/$injector">injector service</a>实例化</strong>的。<br>这个injector创建两种objects，services和specialized objects。<br>Services即开发者定义的业务逻辑。<br>Specialized Objects即 controllers, directives, filters 或者animations之一。<br><strong>injector</strong>怎样知道如何创建上面这两种objects呢，可以通过<strong>注册</strong>创建object对应的<strong>recipe</strong>来创建object。此处共有五种recipe，provider，value,factory,service,constant，其中provider是基础，其他四种是provider的语法糖。<br>下面说一下<strong>recipe的结构</strong>，每个recipe有一个<strong>identifier</strong>表示这个<strong>object</strong>的名字，以及<strong>description</strong>表示怎样<strong>创建这个object</strong>。<br>每个recipe属于Angular module。当一个angular module启动时，Angular自动创建一个injector实例，这个injector实例创建一个包含所有recipe注册情况的注册表，这些注册来自于核心ng模块，application module以及它的dependencies，当需要为应用创建一个object的时候，injector询问一下这个注册表就知道了。虽然我们的recipe有五种，但是这五种recipe都是为了创建运行时所需的objects用的，injector通过identifier查找object，通过description实例化object。所以注册recipe的时候使用：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>, []);</div><div class="line">myApp.recipe();</div></pre></td></tr></table></figure></p>
        
          <p class="article-more-link">
            <a href="/2016/04/28/Learning-Angularjs-2/#more">Read More</a>
          </p>
        
      
    </div>
    
    
      <footer class="article-footer">
        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Angularjs/">Angularjs</a></li></ul>

      </footer>
    
  </div>
  
</article>








    
      <nav id="page-nav">
        <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
      </nav>
    </section>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 Xiufeng Chen&nbsp;
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>, theme by <a href="http://github.com/ppoffice">PPOffice</a>
    </div>
  </div>
</footer>
    
<script>
  var disqus_shortname = 'xfchen0102';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="/js/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>
  </div>
</body>
</html>